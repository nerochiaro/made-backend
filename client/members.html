<template name="memberlist">
  <table class="ui celled unstackable table" style="margin-top: 40px">
    <thead>
      <th>Number</th>
      <th>Since</th>
      <th>Name</th>
      <th>Emails</th>
      <th>Aliases</th>
      <th>Payments</th>
    </thead>
    <tbody>
    {{#each members}}
      {{> member}}
    {{/each}}
    </tbody>
  </table>
</template>

<template name="member">
  <tr data-member="{{_id}}">
    <td class="collapsing">{{_id}}</td>
    <td class="collapsing">{{joined}}</td>
    <td class="collapsing">{{first}} {{last}}</td>
    <td class="collapsing">{{email}}</td>
    <td>
    {{#each aliases}}
      <div class="ui label" data-alias="{{_id}}">{{_id}}<i class="ui icon delete remove-alias"></i></div>
    {{/each}}
    </td>
    <td class="member-payments">
    {{> memberPayments}}
    </td>
  </tr>
  {{#if showPayments}}
  <tr><td colspan="6">
  {{> memberPaymentsList}}
  </td></tr>
  {{/if}}
</template>

<template name="memberPayments">
  {{#with months}}
    <div class="ui mini buttons">
    <div class="ui button">{{startYear this}}</div>
    {{#each this}}
      <div class="ui button {{color}}">{{month}}</div>
    {{/each}}
    </div>
  {{/with}}
</template>

<template name="memberPaymentsList">
  <table class="ui celled unstackable table">
  {{#each payments}}
    {{> movement item=this memberedit=false}}
  {{/each}}
  </table>
</template>

<!-- used by the history view -->

<template name="memberpicker">
  <table class="ui celled unstackable sortable small compact table" style="margin-top: 40px">
    <thead>
      <tr>
        <th></th>
        <th>#</th>
        <th>Name</th>
        <th>Surname</th>
        <th>Email</th>
      </tr>
    </thead>
    <tbody>
    {{#each members}}
      {{> memberPick}}
    {{/each}}
    </tbody>
  </table>
</template>

<template name="memberPick">
  <tr data-member="{{_id}}">
    <td class="collapsing">
      <div class="ui mini icon button set-member"><i class="ui icon left arrow"></i></div>
      <div class="ui mini icon button set-alias"><i class="ui icon star"></i></div>
    </td>
    <td class="collapsing">{{_id}}</td>
    <td class="collapsing">{{first}}</td>
    <td class="collapsing">{{last}}</td>
    <td class="collapsing">{{email}}</td>
    <td></td>
  </tr>
</template>